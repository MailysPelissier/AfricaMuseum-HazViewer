PostgreSQL path : C:\Program Files\PostgreSQL\17
password : password
port : 5432

create extension POSTGIS;

Ajouter couche pays : ne_10m_admin_0_countries.shp (Natural Earth)

Ajouter dans pg Admin :
dans l'invite de commande : 
cd C:\Program Files\PostgreSQL\17\bin
shp2pgsql -s 4326 -c -D -i -I C:\Mailys\data\ne_10m_admin_0_countries\ne_10m_admin_0_countries.shp countries | psql -h localhost -U postgres -d webGIS

Tables :
- Events v3 (21964)
- Paragraphs v3 (1529769)
- Table de jointure (2210199)
- Table events --> Enlever colonnes inutiles : id_integer, wkt, paragraphs_list, articles_list
- Table paragraphs --> Enlever colonnes inutiles : unnamed_column, wkt
- Table citizen_observer

Vue matérialisée :
- Vue paragraphs pg


-- Table: public.events2020_23

DROP TABLE IF EXISTS public.events2020_23;

CREATE TABLE IF NOT EXISTS public.events2020_23
(
    id_integer integer,
    event_id character varying COLLATE pg_catalog."default",
    hazard_type character varying COLLATE pg_catalog."default",
    disaster_score real,
    hasard_type_score real,
    latitude real,
    longitude real,
    event_time timestamp without time zone,
    bbox_event character varying COLLATE pg_catalog."default",
    n_languages real,
    n_source_countries real,
    paragraphs_list character varying COLLATE pg_catalog."default",
    articles_list character varying COLLATE pg_catalog."default",
    n_paragraphs real,
    n_articles real,
    start_time timestamp without time zone,
    end_time timestamp without time zone,
    duration integer,
    mostfreq_death real,
    n_mostfreq_death real,
    time_mostfreq_death real,
    max_death real,
    n_max_death real,
    time_max_death real,
    median_death real,
    mostfreq_homeless real,
    n_mostfreq_homeless real,
    time_mostfreq_homeless real,
    max_homeless real,
    n_max_homeless real,
    time_max_homeless real,
    median_homeless real,
    mostfreq_injured real,
    n_mostfreq_injured real,
    time_mostfreq_injured real,
    max_injured real,
    n_max_injured real,
    time_max_injured real,
    median_injured real,
    mostfreq_affected real,
    n_mostfreq_affected real,
    time_mostfreq_affected real,
    max_affected real,
    n_max_affected real,
    time_max_affected real,
    median_affected real,
    mostfreq_missing real,
    n_mostfreq_missing real,
    time_mostfreq_missing real,
    max_missing real,
    n_max_missing real,
    time_max_missing real,
    median_missing real,
    mostfreq_evacuated real,
    n_mostfreq_evacuated real,
    time_mostfreq_evacuated real,
    max_evacuated real,
    n_max_evacuated real,
    time_max_evacuated real,
    median_evacuated real,
    country character varying COLLATE pg_catalog."default",
    wkt character varying COLLATE pg_catalog."default",
    geom geometry(Point,4326),
    primary_key integer NOT NULL GENERATED ALWAYS AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    country_found character varying COLLATE pg_catalog."default",
    CONSTRAINT events2020_23_pkey PRIMARY KEY (primary_key)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.events2020_23
    OWNER to postgres;

-- Index: events2020_23_geom_idx

DROP INDEX IF EXISTS public.events2020_23_geom_idx;

CREATE INDEX IF NOT EXISTS events2020_23_geom_idx
    ON public.events2020_23 USING gist
    (geom)
    WITH (buffering=auto)
    TABLESPACE pg_default;

COPY events2020_23(id_integer,event_id,hazard_type,disaster_score,hasard_type_score,latitude,longitude,event_time,bbox_event,n_languages,n_source_countries,paragraphs_list,articles_list,n_paragraphs,n_articles,start_time,end_time,duration,mostfreq_death,n_mostfreq_death,time_mostfreq_death,max_death,n_max_death,time_max_death,median_death,mostfreq_homeless,n_mostfreq_homeless,time_mostfreq_homeless,max_homeless,n_max_homeless,time_max_homeless,median_homeless,mostfreq_injured,n_mostfreq_injured,time_mostfreq_injured,max_injured,n_max_injured,time_max_injured,median_injured,mostfreq_affected,n_mostfreq_affected,time_mostfreq_affected,max_affected,n_max_affected,time_max_affected,median_affected,mostfreq_missing,n_mostfreq_missing,time_mostfreq_missing,max_missing,n_max_missing,time_max_missing,median_missing,mostfreq_evacuated,n_mostfreq_evacuated,time_mostfreq_evacuated,max_evacuated,n_max_evacuated,time_max_evacuated,median_evacuated,country)
FROM 'C:/Mailys/data/S20200101000000_E20240101000000_GDELT_Events_v3.csv'
DELIMITER ',' 
CSV HEADER
QUOTE '"';

UPDATE events2020_23 SET wkt=concat('POINT (',longitude,' ',latitude,')');
UPDATE events2020_23 SET geom=ST_GeomFromText(wkt);
UPDATE events2020_23 SET country_found = c.admin FROM countries c WHERE ST_Contains(c.geom, events2020_23.geom);



-- Table: public.paragraphs2020_23

DROP TABLE IF EXISTS public.paragraphs2020_23;

CREATE TABLE IF NOT EXISTS public.paragraphs2020_23
(
    article_id character varying COLLATE pg_catalog."default",
    title character varying COLLATE pg_catalog."default",
    extracted_text character varying COLLATE pg_catalog."default",
    paragraph_time timestamp without time zone,
    article_language character varying COLLATE pg_catalog."default",
    source_country character varying COLLATE pg_catalog."default",
    domain_url character varying COLLATE pg_catalog."default",
    paragraph_id character varying COLLATE pg_catalog."default",
    original_text character varying COLLATE pg_catalog."default",
    disaster_label real,
    disaster_score real,
    hasard_type character varying COLLATE pg_catalog."default",
    hasard_type_score real,
    nb_death real,
    score_death real,
    answer_death character varying COLLATE pg_catalog."default",
    nb_homeless real,
    score_homeless real,
    answer_homeless character varying COLLATE pg_catalog."default",
    nb_injured real,
    score_injured real,
    answer_injured character varying COLLATE pg_catalog."default",
    nb_affected real,
    score_affected real,
    answer_affected character varying COLLATE pg_catalog."default",
    nb_missing real,
    score_missing real,
    answer_missing character varying COLLATE pg_catalog."default",
    nb_evacuated real,
    score_evacuated real,
    answer_evacuated character varying COLLATE pg_catalog."default",
    publication_time timestamp without time zone,
    extracted_location character varying COLLATE pg_catalog."default",
    ner_score character varying COLLATE pg_catalog."default",
    latitude real,
    longitude real,
    std_dev real,
    min_lat real,
    max_lat real,
    min_lon real,
    max_lon real,
    n_locations real,
    nb_death_min real,
    nb_death_max real,
    nb_homeless_min real,
    nb_homeless_max real,
    nb_injured_min real,
    nb_injured_max real,
    nb_affected_min real,
    nb_affected_max real,
    nb_missing_min real,
    nb_missing_max real,
    nb_evacuated_min real,
    nb_evacuated_max real,
    unnamed_column real,
    country character varying COLLATE pg_catalog."default",
    wkt character varying COLLATE pg_catalog."default",
    geom geometry(Point,4326),
    primary_key integer NOT NULL GENERATED ALWAYS AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    country_found character varying COLLATE pg_catalog."default",
    CONSTRAINT paragraphs2020_23_pkey PRIMARY KEY (primary_key)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.paragraphs2020_23
    OWNER to postgres;
	
-- Index: paragraphs2020_23_geom_idx

DROP INDEX IF EXISTS public.paragraphs2020_23_geom_idx;

CREATE INDEX IF NOT EXISTS paragraphs2020_23_geom_idx
    ON public.paragraphs2020_23 USING gist
    (geom)
    WITH (buffering=auto)
    TABLESPACE pg_default;
	
-- Index: paragraphs2020_23_paragraph_id_idx

DROP INDEX IF EXISTS public.paragraphs2020_23_paragraph_id_idx;

CREATE INDEX IF NOT EXISTS paragraphs2020_23_paragraph_id_idx
    ON public.paragraphs2020_23 USING btree
    (paragraph_id ASC NULLS LAST)
    TABLESPACE pg_default;

COPY paragraphs2020_23(article_id,title,extracted_text,paragraph_time,article_language,source_country,domain_url,paragraph_id,original_text,disaster_label,disaster_score,hasard_type,hasard_type_score,nb_death,score_death,answer_death,nb_homeless,score_homeless,answer_homeless,nb_injured,score_injured,answer_injured,nb_affected,score_affected,answer_affected,nb_missing,score_missing,answer_missing,nb_evacuated,score_evacuated,answer_evacuated,publication_time,extracted_location,ner_score,latitude,longitude,std_dev,min_lat,max_lat,min_lon,max_lon,n_locations,nb_death_min,nb_death_max,nb_homeless_min,nb_homeless_max,nb_injured_min,nb_injured_max,nb_affected_min,nb_affected_max,nb_missing_min,nb_missing_max,nb_evacuated_min,nb_evacuated_max,unnamed_column,country)
FROM 'C:/Mailys/data/S20200101000000_E20240101000000_GDELT_Paragraphs_v3.csv'
DELIMITER ',' 
CSV HEADER
QUOTE '"';

DELETE FROM paragraphs2020_23 WHERE longitude IS NULL;
UPDATE paragraphs2020_23 SET wkt=concat('POINT (',longitude,' ',latitude,')');
UPDATE paragraphs2020_23 SET geom=ST_GeomFromText(wkt);
UPDATE paragraphs2020_23 SET country_found = c.admin FROM countries c WHERE ST_Contains(c.geom, paragraphs2020_23.geom);

DROP TABLE IF EXISTS public.paragraphs2020_23_clean;

CREATE TABLE IF NOT EXISTS paragraphs2020_23_clean AS
SELECT DISTINCT ON (paragraph_id) *
FROM paragraphs2020_23
ORDER BY paragraph_id, primary_key;

DROP TABLE IF EXISTS paragraphs2020_23;

ALTER TABLE paragraphs2020_23_clean
RENAME TO paragraphs2020_23;

-- Index: paragraphs2020_23_geom_idx

DROP INDEX IF EXISTS public.paragraphs2020_23_geom_idx;

CREATE INDEX IF NOT EXISTS paragraphs2020_23_geom_idx
    ON public.paragraphs2020_23 USING gist
    (geom)
    WITH (buffering=auto)
    TABLESPACE pg_default;
	
-- Index: paragraphs2020_23_paragraph_id_idx

DROP INDEX IF EXISTS public.paragraphs2020_23_paragraph_id_idx;

CREATE INDEX IF NOT EXISTS paragraphs2020_23_paragraph_id_idx
    ON public.paragraphs2020_23 USING btree
    (paragraph_id ASC NULLS LAST)
    TABLESPACE pg_default;



-- Table: public.event_paragraphs

DROP MATERIALIZED VIEW IF EXISTS vue_paragraphs_pg;

DROP TABLE IF EXISTS public.event_paragraphs;

CREATE TABLE IF NOT EXISTS public.event_paragraphs
(
    event_id character varying(50) COLLATE pg_catalog."default" NOT NULL,
    paragraph_id character varying(50) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT event_paragraphs_pkey PRIMARY KEY (event_id, paragraph_id)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.event_paragraphs
    OWNER to postgres;

-- Index: event_paragraphs_event_id_idx

DROP INDEX IF EXISTS public.event_paragraphs_event_id_idx;

CREATE INDEX IF NOT EXISTS event_paragraphs_event_id_idx
    ON public.event_paragraphs USING btree
    (event_id COLLATE pg_catalog."default" ASC NULLS LAST)
    WITH (deduplicate_items=True)
    TABLESPACE pg_default;

-- Index: event_paragraphs_paragraph_id_idx

DROP INDEX IF EXISTS public.event_paragraphs_paragraph_id_idx;

CREATE INDEX IF NOT EXISTS event_paragraphs_paragraph_id_idx
    ON public.event_paragraphs USING btree
    (paragraph_id COLLATE pg_catalog."default" ASC NULLS LAST)
    WITH (deduplicate_items=True)
    TABLESPACE pg_default;

INSERT INTO event_paragraphs (event_id, paragraph_id)
SELECT event_id, UNNEST(string_to_array(regexp_replace(paragraphs_list,'''|\(|\)|\s','','g'),',')::varchar[])
FROM public.events2020_23;



-- Table: public.events

DROP TABLE IF EXISTS public.events;

SELECT event_id, hazard_type, disaster_score, hasard_type_score, latitude, longitude, event_time, bbox_event, n_languages, n_source_countries, n_paragraphs, n_articles, start_time, end_time, duration, mostfreq_death, n_mostfreq_death, time_mostfreq_death, max_death, n_max_death, time_max_death, median_death, mostfreq_homeless, n_mostfreq_homeless, time_mostfreq_homeless, max_homeless, n_max_homeless, time_max_homeless, median_homeless, mostfreq_injured, n_mostfreq_injured, time_mostfreq_injured, max_injured, n_max_injured, time_max_injured, median_injured, mostfreq_affected, n_mostfreq_affected, time_mostfreq_affected, max_affected, n_max_affected, time_max_affected, median_affected, mostfreq_missing, n_mostfreq_missing, time_mostfreq_missing, max_missing, n_max_missing, time_max_missing, median_missing, mostfreq_evacuated, n_mostfreq_evacuated, time_mostfreq_evacuated, max_evacuated, n_max_evacuated, time_max_evacuated, median_evacuated, country, geom, primary_key, country_found
INTO events
FROM public.events2020_23;

-- Index: events_geom_idx

DROP INDEX IF EXISTS public.events_geom_idx;

CREATE INDEX IF NOT EXISTS events_geom_idx
    ON public.events USING gist
    (geom)
    WITH (buffering=auto)
    TABLESPACE pg_default;

ALTER TABLE events ADD PRIMARY KEY (primary_key);



-- Table: public.paragraphs

DROP TABLE IF EXISTS public.paragraphs;

SELECT article_id, title, extracted_text, paragraph_time, article_language, source_country, domain_url, paragraph_id, original_text, disaster_label, disaster_score, hasard_type, hasard_type_score, nb_death, score_death, answer_death, nb_homeless, score_homeless, answer_homeless, nb_injured, score_injured, answer_injured, nb_affected, score_affected, answer_affected, nb_missing, score_missing, answer_missing, nb_evacuated, score_evacuated, answer_evacuated, publication_time, extracted_location, ner_score, latitude, longitude, std_dev, min_lat, max_lat, min_lon, max_lon, n_locations, nb_death_min, nb_death_max, nb_homeless_min, nb_homeless_max, nb_injured_min, nb_injured_max, nb_affected_min ,nb_affected_max, nb_missing_min, nb_missing_max, nb_evacuated_min, nb_evacuated_max, country, geom, primary_key, country_found
INTO paragraphs
FROM public.paragraphs2020_23;

-- Index: paragraphs_geom_idx

DROP INDEX IF EXISTS public.paragraphs_geom_idx;

CREATE INDEX IF NOT EXISTS paragraphs_geom_idx
    ON public.paragraphs USING gist
    (geom)
    WITH (buffering=auto)
    TABLESPACE pg_default;

-- Index: paragraphs_paragraph_id_idx

DROP INDEX IF EXISTS public.paragraphs_paragraph_id_idx;

CREATE INDEX IF NOT EXISTS paragraphs_paragraph_id_idx
    ON public.paragraphs USING btree
    (paragraph_id ASC NULLS LAST)
    TABLESPACE pg_default;

ALTER TABLE paragraphs ADD PRIMARY KEY (primary_key);



-- Materialized view : public.vue_paragraphs_pg

DROP MATERIALIZED VIEW IF EXISTS vue_paragraphs_pg;

CREATE MATERIALIZED VIEW IF NOT EXISTS vue_paragraphs_pg AS
SELECT 
    (p.paragraph_id || '_' || ep.event_id) AS composite_id, ep.event_id, p.*
FROM 
    paragraphs p
JOIN 
    event_paragraphs ep ON p.paragraph_id = ep.paragraph_id;

-- Index: vue_paragraphs_pg_composite_id_idx

DROP INDEX IF EXISTS public.vue_paragraphs_pg_composite_id_idx;

CREATE UNIQUE INDEX IF NOT EXISTS vue_paragraphs_pg_composite_id_idx
    ON public.vue_paragraphs_pg USING btree
    (composite_id ASC NULLS LAST)
    TABLESPACE pg_default;

-- Index: vue_paragraphs_pg_geom_idx

DROP INDEX IF EXISTS public.vue_paragraphs_pg_geom_idx;

CREATE INDEX IF NOT EXISTS vue_paragraphs_pg_geom_idx
    ON public.vue_paragraphs_pg USING gist
    (geom)
    WITH (buffering=auto)
    TABLESPACE pg_default;

-- Index: vue_paragraphs_pg_event_id_idx

DROP INDEX IF EXISTS public.vue_paragraphs_pg_event_id_idx;

CREATE INDEX IF NOT EXISTS vue_paragraphs_pg_event_id_idx
    ON public.vue_paragraphs_pg USING btree
    (event_id ASC NULLS LAST)
    TABLESPACE pg_default;



-- Table: public.citizen_observer

DROP TABLE IF EXISTS public.citizen_observer;

CREATE TABLE IF NOT EXISTS public.citizen_observer
(
start_time timestamp without time zone,
end_time timestamp without time zone,
today timestamp without time zone,
to_delete_4 character varying COLLATE pg_catalog."default",
to_delete_5 character varying COLLATE pg_catalog."default",
province character varying COLLATE pg_catalog."default",
territoire character varying COLLATE pg_catalog."default",
nom_collectivite_commune character varying COLLATE pg_catalog."default",
nom_groupement_quartier character varying COLLATE pg_catalog."default",
noms_villages character varying COLLATE pg_catalog."default",
type_event character varying COLLATE pg_catalog."default",
landslide_new_or_old character varying COLLATE pg_catalog."default",
to_delete_13 character varying COLLATE pg_catalog."default",
to_delete_14 character varying COLLATE pg_catalog."default",
to_delete_15 character varying COLLATE pg_catalog."default",
to_delete_16 character varying COLLATE pg_catalog."default",
to_delete_17 character varying COLLATE pg_catalog."default",
to_delete_18 character varying COLLATE pg_catalog."default",
to_delete_19 character varying COLLATE pg_catalog."default",
to_delete_20 character varying COLLATE pg_catalog."default",
to_delete_21 character varying COLLATE pg_catalog."default",
to_delete_22 character varying COLLATE pg_catalog."default",
to_delete_23 character varying COLLATE pg_catalog."default",
latitude real,
longitude real,
altitude real,
precision real,
to_delete_28 character varying COLLATE pg_catalog."default",
to_delete_29 character varying COLLATE pg_catalog."default",
to_delete_30 character varying COLLATE pg_catalog."default",
to_delete_31 character varying COLLATE pg_catalog."default",
to_delete_32 character varying COLLATE pg_catalog."default",
to_delete_33 character varying COLLATE pg_catalog."default",
event_date timestamp without time zone,
to_delete_35 character varying COLLATE pg_catalog."default",
to_delete_36 character varying COLLATE pg_catalog."default",
to_delete_37 character varying COLLATE pg_catalog."default",
inondation_duree_jours real,
to_delete_39 character varying COLLATE pg_catalog."default",
inondation_max_date timestamp without time zone,
to_delete_41 character varying COLLATE pg_catalog."default",
to_delete_42 character varying COLLATE pg_catalog."default",
to_delete_43 character varying COLLATE pg_catalog."default",
inondation_apres character varying COLLATE pg_catalog."default",
to_delete_45 character varying COLLATE pg_catalog."default",
to_delete_46 character varying COLLATE pg_catalog."default",
to_delete_47 character varying COLLATE pg_catalog."default",
to_delete_48 character varying COLLATE pg_catalog."default",
to_delete_49 character varying COLLATE pg_catalog."default",
to_delete_50 character varying COLLATE pg_catalog."default",
inondation_apres_autre character varying COLLATE pg_catalog."default",
to_delete_52 character varying COLLATE pg_catalog."default",
to_delete_53 character varying COLLATE pg_catalog."default",
grele_duree_minutes real,
to_delete_55 character varying COLLATE pg_catalog."default",
to_delete_56 character varying COLLATE pg_catalog."default",
vents_violents_duree_jours real,
to_delete_58 character varying COLLATE pg_catalog."default",
vents_violents_max_date timestamp without time zone,
to_delete_60 character varying COLLATE pg_catalog."default",
to_delete_61 character varying COLLATE pg_catalog."default",
vents_violents_avec_autre_event_bool character varying COLLATE pg_catalog."default",
vents_violents_avec_autre_event character varying COLLATE pg_catalog."default",
to_delete_64 character varying COLLATE pg_catalog."default",
to_delete_65 character varying COLLATE pg_catalog."default",
to_delete_66 character varying COLLATE pg_catalog."default",
to_delete_67 character varying COLLATE pg_catalog."default",
to_delete_68 character varying COLLATE pg_catalog."default",
to_delete_69 character varying COLLATE pg_catalog."default",
to_delete_70 character varying COLLATE pg_catalog."default",
to_delete_71 character varying COLLATE pg_catalog."default",
to_delete_72 character varying COLLATE pg_catalog."default",
to_delete_73 character varying COLLATE pg_catalog."default",
to_delete_74 character varying COLLATE pg_catalog."default",
to_delete_75 character varying COLLATE pg_catalog."default",
to_delete_76 character varying COLLATE pg_catalog."default",
tdt_duree character varying COLLATE pg_catalog."default",
to_delete_78 character varying COLLATE pg_catalog."default",
to_delete_79 character varying COLLATE pg_catalog."default",
to_delete_80 character varying COLLATE pg_catalog."default",
to_delete_81 character varying COLLATE pg_catalog."default",
to_delete_82 character varying COLLATE pg_catalog."default",
to_delete_83 character varying COLLATE pg_catalog."default",
to_delete_84 character varying COLLATE pg_catalog."default",
to_delete_85 character varying COLLATE pg_catalog."default",
to_delete_86 character varying COLLATE pg_catalog."default",
to_delete_87 character varying COLLATE pg_catalog."default",
landslide_react_date_1 character varying COLLATE pg_catalog."default",
landslide_react_date_2 character varying COLLATE pg_catalog."default",
landslide_react_cause character varying COLLATE pg_catalog."default",
landslide_react_cause_autre character varying COLLATE pg_catalog."default",
landslide_react_signes_bool character varying COLLATE pg_catalog."default",
landslide_react_signes character varying COLLATE pg_catalog."default",
to_delete_94 character varying COLLATE pg_catalog."default",
to_delete_95 character varying COLLATE pg_catalog."default",
to_delete_96 character varying COLLATE pg_catalog."default",
to_delete_97 character varying COLLATE pg_catalog."default",
landslide_react_signes_autre character varying COLLATE pg_catalog."default",
landslide_apres character varying COLLATE pg_catalog."default",
to_delete_100 character varying COLLATE pg_catalog."default",
to_delete_101 character varying COLLATE pg_catalog."default",
to_delete_102 character varying COLLATE pg_catalog."default",
to_delete_103 character varying COLLATE pg_catalog."default",
to_delete_104 character varying COLLATE pg_catalog."default",
landslide_cause_habitants character varying COLLATE pg_catalog."default",
to_delete_106 character varying COLLATE pg_catalog."default",
to_delete_107 character varying COLLATE pg_catalog."default",
to_delete_108 character varying COLLATE pg_catalog."default",
to_delete_109 character varying COLLATE pg_catalog."default",
to_delete_110 character varying COLLATE pg_catalog."default",
landslide_cause_habitants_autre character varying COLLATE pg_catalog."default",
to_delete_112 character varying COLLATE pg_catalog."default",
to_delete_113 character varying COLLATE pg_catalog."default",
to_delete_114 character varying COLLATE pg_catalog."default",
to_delete_115 character varying COLLATE pg_catalog."default",
to_delete_116 character varying COLLATE pg_catalog."default",
to_delete_117 character varying COLLATE pg_catalog."default",
to_delete_118 character varying COLLATE pg_catalog."default",
to_delete_119 character varying COLLATE pg_catalog."default",
surprise_population character varying COLLATE pg_catalog."default",
nb_morts real,
to_delete_122 character varying COLLATE pg_catalog."default",
nb_blesses real,
nb_sansabris real,
to_delete_125 character varying COLLATE pg_catalog."default",
impact_betail_bool character varying COLLATE pg_catalog."default",
impact_betail_type character varying COLLATE pg_catalog."default",
to_delete_128 character varying COLLATE pg_catalog."default",
to_delete_129 character varying COLLATE pg_catalog."default",
to_delete_130 character varying COLLATE pg_catalog."default",
to_delete_131 character varying COLLATE pg_catalog."default",
to_delete_132 character varying COLLATE pg_catalog."default",
to_delete_133 character varying COLLATE pg_catalog."default",
to_delete_134 character varying COLLATE pg_catalog."default",
to_delete_135 character varying COLLATE pg_catalog."default",
to_delete_136 character varying COLLATE pg_catalog."default",
to_delete_137 character varying COLLATE pg_catalog."default",
to_delete_138 character varying COLLATE pg_catalog."default",
impact_betail_autre character varying COLLATE pg_catalog."default",
to_delete_140 character varying COLLATE pg_catalog."default",
impact_logement_bool character varying COLLATE pg_catalog."default",
to_delete_142 character varying COLLATE pg_catalog."default",
to_delete_143 character varying COLLATE pg_catalog."default",
to_delete_144 character varying COLLATE pg_catalog."default",
to_delete_145 character varying COLLATE pg_catalog."default",
to_delete_146 character varying COLLATE pg_catalog."default",
to_delete_147 character varying COLLATE pg_catalog."default",
to_delete_148 character varying COLLATE pg_catalog."default",
to_delete_149 character varying COLLATE pg_catalog."default",
to_delete_150 character varying COLLATE pg_catalog."default",
to_delete_151 character varying COLLATE pg_catalog."default",
to_delete_152 character varying COLLATE pg_catalog."default",
to_delete_153 character varying COLLATE pg_catalog."default",
to_delete_154 character varying COLLATE pg_catalog."default",
to_delete_155 character varying COLLATE pg_catalog."default",
to_delete_156 character varying COLLATE pg_catalog."default",
to_delete_157 character varying COLLATE pg_catalog."default",
to_delete_158 character varying COLLATE pg_catalog."default",
to_delete_159 character varying COLLATE pg_catalog."default",
to_delete_160 character varying COLLATE pg_catalog."default",
to_delete_161 character varying COLLATE pg_catalog."default",
to_delete_162 character varying COLLATE pg_catalog."default",
to_delete_163 character varying COLLATE pg_catalog."default",
to_delete_164 character varying COLLATE pg_catalog."default",
to_delete_165 character varying COLLATE pg_catalog."default",
to_delete_166 character varying COLLATE pg_catalog."default",
to_delete_167 character varying COLLATE pg_catalog."default",
to_delete_168 character varying COLLATE pg_catalog."default",
to_delete_169 character varying COLLATE pg_catalog."default",
to_delete_170 character varying COLLATE pg_catalog."default",
to_delete_171 character varying COLLATE pg_catalog."default",
to_delete_172 character varying COLLATE pg_catalog."default",
to_delete_173 character varying COLLATE pg_catalog."default",
to_delete_174 character varying COLLATE pg_catalog."default",
to_delete_175 character varying COLLATE pg_catalog."default",
to_delete_176 character varying COLLATE pg_catalog."default",
to_delete_177 character varying COLLATE pg_catalog."default",
impact_routes_bool character varying COLLATE pg_catalog."default",
to_delete_179 character varying COLLATE pg_catalog."default",
to_delete_180 character varying COLLATE pg_catalog."default",
to_delete_181 character varying COLLATE pg_catalog."default",
to_delete_182 character varying COLLATE pg_catalog."default",
to_delete_183 character varying COLLATE pg_catalog."default",
to_delete_184 character varying COLLATE pg_catalog."default",
to_delete_185 character varying COLLATE pg_catalog."default",
to_delete_186 character varying COLLATE pg_catalog."default",
to_delete_187 character varying COLLATE pg_catalog."default",
to_delete_188 character varying COLLATE pg_catalog."default",
to_delete_189 character varying COLLATE pg_catalog."default",
to_delete_190 character varying COLLATE pg_catalog."default",
to_delete_191 character varying COLLATE pg_catalog."default",
to_delete_192 character varying COLLATE pg_catalog."default",
to_delete_193 character varying COLLATE pg_catalog."default",
impact_ponts_bool character varying COLLATE pg_catalog."default",
to_delete_195 character varying COLLATE pg_catalog."default",
to_delete_196 character varying COLLATE pg_catalog."default",
to_delete_197 character varying COLLATE pg_catalog."default",
to_delete_198 character varying COLLATE pg_catalog."default",
to_delete_199 character varying COLLATE pg_catalog."default",
to_delete_200 character varying COLLATE pg_catalog."default",
to_delete_201 character varying COLLATE pg_catalog."default",
to_delete_202 character varying COLLATE pg_catalog."default",
impact_autres_type character varying COLLATE pg_catalog."default",
to_delete_204 character varying COLLATE pg_catalog."default",
to_delete_205 character varying COLLATE pg_catalog."default",
to_delete_206 character varying COLLATE pg_catalog."default",
to_delete_207 character varying COLLATE pg_catalog."default",
to_delete_208 character varying COLLATE pg_catalog."default",
to_delete_209 character varying COLLATE pg_catalog."default",
to_delete_210 character varying COLLATE pg_catalog."default",
impact_autres_autre character varying COLLATE pg_catalog."default",
to_delete_212 character varying COLLATE pg_catalog."default",
to_delete_213 character varying COLLATE pg_catalog."default",
to_delete_214 character varying COLLATE pg_catalog."default",
to_delete_215 character varying COLLATE pg_catalog."default",
to_delete_216 character varying COLLATE pg_catalog."default",
to_delete_217 character varying COLLATE pg_catalog."default",
to_delete_218 character varying COLLATE pg_catalog."default",
impact_coupures_elec character varying COLLATE pg_catalog."default",
impact_eau_consommation character varying COLLATE pg_catalog."default",
to_delete_221 character varying COLLATE pg_catalog."default",
tdt_declenche_landslide character varying COLLATE pg_catalog."default",
to_delete_223 character varying COLLATE pg_catalog."default",
impact_cultures_bool character varying COLLATE pg_catalog."default",
impact_cultures_type character varying COLLATE pg_catalog."default",
to_delete_226 character varying COLLATE pg_catalog."default",
to_delete_227 character varying COLLATE pg_catalog."default",
to_delete_228 character varying COLLATE pg_catalog."default",
to_delete_229 character varying COLLATE pg_catalog."default",
to_delete_230 character varying COLLATE pg_catalog."default",
to_delete_231 character varying COLLATE pg_catalog."default",
to_delete_232 character varying COLLATE pg_catalog."default",
to_delete_233 character varying COLLATE pg_catalog."default",
to_delete_234 character varying COLLATE pg_catalog."default",
to_delete_235 character varying COLLATE pg_catalog."default",
to_delete_236 character varying COLLATE pg_catalog."default",
to_delete_237 character varying COLLATE pg_catalog."default",
to_delete_238 character varying COLLATE pg_catalog."default",
to_delete_239 character varying COLLATE pg_catalog."default",
to_delete_240 character varying COLLATE pg_catalog."default",
to_delete_241 character varying COLLATE pg_catalog."default",
to_delete_242 character varying COLLATE pg_catalog."default",
to_delete_243 character varying COLLATE pg_catalog."default",
to_delete_244 character varying COLLATE pg_catalog."default",
validation_status character varying COLLATE pg_catalog."default",
to_delete_246 character varying COLLATE pg_catalog."default",
to_delete_247 character varying COLLATE pg_catalog."default",
to_delete_248 character varying COLLATE pg_catalog."default",
to_delete_249 character varying COLLATE pg_catalog."default",
to_delete_250 character varying COLLATE pg_catalog."default",
wkt character varying COLLATE pg_catalog."default",
geom geometry(Point,4326),
primary_key integer NOT NULL GENERATED ALWAYS AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
country_found character varying COLLATE pg_catalog."default",
CONSTRAINT citizen_observer_pkey PRIMARY KEY (primary_key)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.citizen_observer 
    OWNER to postgres;

COPY citizen_observer (start_time, end_time, today, to_delete_4, to_delete_5, province, territoire, nom_collectivite_commune, nom_groupement_quartier, noms_villages, type_event, landslide_new_or_old, to_delete_13, to_delete_14, to_delete_15, to_delete_16, to_delete_17, to_delete_18, to_delete_19, to_delete_20, to_delete_21, to_delete_22, to_delete_23, latitude, longitude, altitude, precision, to_delete_28, to_delete_29, to_delete_30, to_delete_31, to_delete_32, to_delete_33, event_date, to_delete_35, to_delete_36, to_delete_37, inondation_duree_jours, to_delete_39, inondation_max_date, to_delete_41, to_delete_42, to_delete_43, inondation_apres, to_delete_45, to_delete_46, to_delete_47, to_delete_48, to_delete_49, to_delete_50, inondation_apres_autre, to_delete_52, to_delete_53, grele_duree_minutes, to_delete_55, to_delete_56, vents_violents_duree_jours, to_delete_58, vents_violents_max_date, to_delete_60, to_delete_61, vents_violents_avec_autre_event_bool, vents_violents_avec_autre_event, to_delete_64, to_delete_65, to_delete_66, to_delete_67, to_delete_68, to_delete_69, to_delete_70, to_delete_71, to_delete_72, to_delete_73, to_delete_74, to_delete_75, to_delete_76, tdt_duree, to_delete_78, to_delete_79, to_delete_80, to_delete_81, to_delete_82, to_delete_83, to_delete_84, to_delete_85, to_delete_86, to_delete_87, landslide_react_date_1, landslide_react_date_2, landslide_react_cause, landslide_react_cause_autre, landslide_react_signes_bool, landslide_react_signes, to_delete_94, to_delete_95, to_delete_96, to_delete_97, landslide_react_signes_autre, landslide_apres, to_delete_100, to_delete_101, to_delete_102, to_delete_103, to_delete_104, landslide_cause_habitants, to_delete_106, to_delete_107, to_delete_108, to_delete_109, to_delete_110, landslide_cause_habitants_autre, to_delete_112, to_delete_113, to_delete_114, to_delete_115, to_delete_116, to_delete_117, to_delete_118, to_delete_119, surprise_population, nb_morts, to_delete_122, nb_blesses, nb_sansabris, to_delete_125, impact_betail_bool, impact_betail_type, to_delete_128, to_delete_129, to_delete_130, to_delete_131, to_delete_132, to_delete_133, to_delete_134, to_delete_135, to_delete_136, to_delete_137, to_delete_138, impact_betail_autre, to_delete_140, impact_logement_bool, to_delete_142, to_delete_143, to_delete_144, to_delete_145, to_delete_146, to_delete_147, to_delete_148, to_delete_149, to_delete_150, to_delete_151, to_delete_152, to_delete_153, to_delete_154, to_delete_155, to_delete_156, to_delete_157, to_delete_158, to_delete_159, to_delete_160, to_delete_161, to_delete_162, to_delete_163, to_delete_164,to_delete_165, to_delete_166, to_delete_167, to_delete_168, to_delete_169, to_delete_170, to_delete_171, to_delete_172, to_delete_173, to_delete_174, to_delete_175, to_delete_176, to_delete_177, impact_routes_bool, to_delete_179, to_delete_180, to_delete_181, to_delete_182, to_delete_183, to_delete_184, to_delete_185, to_delete_186, to_delete_187, to_delete_188, to_delete_189, to_delete_190, to_delete_191, to_delete_192, to_delete_193, impact_ponts_bool, to_delete_195, to_delete_196, to_delete_197, to_delete_198, to_delete_199, to_delete_200, to_delete_201, to_delete_202, impact_autres_type, to_delete_204, to_delete_205, to_delete_206, to_delete_207, to_delete_208, to_delete_209, to_delete_210, impact_autres_autre, to_delete_212, to_delete_213, to_delete_214, to_delete_215, to_delete_216, to_delete_217, to_delete_218, impact_coupures_elec, impact_eau_consommation, to_delete_221, tdt_declenche_landslide, to_delete_223, impact_cultures_bool, impact_cultures_type, to_delete_226, to_delete_227, to_delete_228, to_delete_229, to_delete_230, to_delete_231, to_delete_232, to_delete_233, to_delete_234, to_delete_235, to_delete_236, to_delete_237, to_delete_238, to_delete_239, to_delete_240, to_delete_241, to_delete_242, to_delete_243, to_delete_244, validation_status, to_delete_246, to_delete_247, to_delete_248, to_delete_249, to_delete_250)
FROM 'C:/Mailys/data/Formulaire_OC_2020_-_all_versions_-_labels_-_2025-05-22-09-35-22_sans-guillemets.csv'
DELIMITER ';' 
CSV HEADER
QUOTE '"';

DO $$
DECLARE
    col_record RECORD;
    alter_command TEXT;
BEGIN
    FOR col_record IN
        SELECT column_name
        FROM information_schema.columns
        WHERE table_name = 'citizen_observer'
        AND column_name LIKE 'to_delete_%'
    LOOP
        alter_command := 'ALTER TABLE citizen_observer DROP COLUMN ' || col_record.column_name || ';';
        EXECUTE alter_command;
        RAISE NOTICE 'Suppression de la colonne %', col_record.column_name;
    END LOOP;
END $$;

DELETE FROM citizen_observer WHERE validation_status != 'Approved';
DELETE FROM citizen_observer WHERE validation_status IS NULL; 
UPDATE citizen_observer SET wkt=concat('POINT (',longitude,' ',latitude,')');
UPDATE citizen_observer SET geom=ST_GeomFromText(wkt);
UPDATE citizen_observer SET country_found = c.admin FROM countries c WHERE ST_Contains(c.geom, citizen_observer.geom);


"start";
"end";
"today";
"deviceid";
"Quel est votre identifiant?";
"province";
"territoire";
"Nom de la collectivité/commune";
"Nom du groupement/quartier";
"Quel est/sont le(s) nom(s) du/des village(s)/cellule(s) affecté(es)?";
"1. Quel type d'événement est suvenu?";
"1.a. S'agit-il d'un nouveau glissement de terrain ou de la réactivation d'un glissement de terrain déjà existant?";
"2. Avez vous pu vous rendre sur les lieux de l'événement?";
"2.a. Si vous n'avez pas pu vous rendre sur les lieux de l'événement, expliquez pourquoi";
"2.a. Si vous n'avez pas pu vous rendre sur les lieux de l'événement, expliquez pourquoi/trop grande insécurité";
"2.a. Si vous n'avez pas pu vous rendre sur les lieux de l'événement, expliquez pourquoi/pas de moyen pour financer mon déplacement";
"2.a. Si vous n'avez pas pu vous rendre sur les lieux de l'événement, expliquez pourquoi/trop grande distance par rapport à mon lieu de résidence";
"2.a. Si vous n'avez pas pu vous rendre sur les lieux de l'événement, expliquez pourquoi/pas de possibilité de me déplacer (pas de transport)";
"2.a. Si vous n'avez pas pu vous rendre sur les lieux de l'événement, expliquez pourquoi/un autre OC a été sur les lieux";
"2.a. Si vous n'avez pas pu vous rendre sur les lieux de l'événement, expliquez pourquoi/malade, souffrant";
"2.a. Si vous n'avez pas pu vous rendre sur les lieux de l'événement, expliquez pourquoi/autre raison";
"2.b. Si autre raison, précisez laquelle";
"3. Prenez un point GPS quand vous vous trouvez à un endroit affecté";
"_3. Prenez un point GPS quand vous vous trouvez à un endroit affecté_latitude";
"_3. Prenez un point GPS quand vous vous trouvez à un endroit affecté_longitude";
"_3. Prenez un point GPS quand vous vous trouvez à un endroit affecté_altitude";
"_3. Prenez un point GPS quand vous vous trouvez à un endroit affecté_precision";
"3.a. Où le point GPS a-t-il été pris avec précision?";
"4. Avez vous des photos de l'événement?";
"4.a. Prenez ou enregistrez une première photo montrant la zone affectée";
"4.b. Prenez ou enregistrez une deuxième photo montrant la zone affectée";
"4.c. Si possible, prenez ou enregistrez une photo de l'escarpement du glissement de terrain";
"5. Connaissez vous la date de survenue de l'événement?";
"5.a. Indiquez la date de l'événement";
"6. Connaissez vous le moment approximatif de la survenue ou du début de l'événement?";
"7.1. Connaissez vous l'heure approximative à laquelle la foudre a frappée?";
"7.1.a. Indiquez l'heure à laquelle la foudre a frappée";
"7.1. Combien de jours a duré l'inondation (niveau de l'eau au dessus du niveau de son lit habituel)?";
"7.2. Connaissez vous la date à laquelle l'eau a atteint son niveau le plus haut?";
"7.2.a. Indiquez la date à laquelle l'eau a atteint son niveau le plus haut";
"7.3. Connaissez vous l'heure approximative à laquelle l'eau a atteint son niveau le plus haut?";
"7.3.a. Indiquez l'heure à laquelle l'eau a atteint son niveau le plus haut";
"7.4. Donnez une estimation de la hauteur de l'eau atteinte dans les zones les plus inondées";
"7.5. L'inondation est survenue pendant ou juste après (quelques heures jusqu'à quelques jours après)...";
"7.5. L'inondation est survenue pendant ou juste après (quelques heures jusqu'à quelques jours après).../pluie prolongée (pluie continue pendant plus d'une journée)";
"7.5. L'inondation est survenue pendant ou juste après (quelques heures jusqu'à quelques jours après).../pluie très intense qui durent de quelques heures à 1 jour maximum";
"7.5. L'inondation est survenue pendant ou juste après (quelques heures jusqu'à quelques jours après).../tremblement de terre";
"7.5. L'inondation est survenue pendant ou juste après (quelques heures jusqu'à quelques jours après).../glissement de terrain";
"7.5. L'inondation est survenue pendant ou juste après (quelques heures jusqu'à quelques jours après).../autre événement";
"7.5. L'inondation est survenue pendant ou juste après (quelques heures jusqu'à quelques jours après).../pas de réponse";
"7.6. Vous indiquez qu'un autre événement a précédé l'inondation, pouvez vous préciser lequel?";
"7.1. Connaissez vous l'heure approximative à laquelle la grêle est tombée?";
"7.1.a. Indiquez l'heure à laquelle la grêle est tombée";
"7.2. Pendant combien de minutes la grêle est elle tombée?";
"7.3. Quelle était la taille des plus gros grêlons?";
"7.4. Les grêlons se sont accumulés sur le sol sur une hauteur maximum de ...";
"7.1. Combien de jours ont duré les vents violents?";
"7.2. Connaissez vous la date à laquelle les vents ont été les plus violents?";
"7.2.a. Indiquez la date à laquelle les vents ont été les plus violents";
"7.3. Connaissez vous l'heure approximative à laquelle les vents ont été les plus violents?";
"7.3.a. Indiquez l'heure à laquelle les vents ont été les plus violents";
"7.4. Les vents violents sont ils survenus juste avant ou avec d'autres événements météorologiques?";
"7.5. Vous indiquez que d'autres événements météorologiques sont survenus juste avant ou avec les vents violents: précisez le(s)quel(s) ";
"7.5. Vous indiquez que d'autres événements météorologiques sont survenus juste avant ou avec les vents violents: précisez le(s)quel(s) /Pluie";
"7.5. Vous indiquez que d'autres événements météorologiques sont survenus juste avant ou avec les vents violents: précisez le(s)quel(s) /Grêle";
"7.5. Vous indiquez que d'autres événements météorologiques sont survenus juste avant ou avec les vents violents: précisez le(s)quel(s) /Tonnerre";
"7.5. Vous indiquez que d'autres événements météorologiques sont survenus juste avant ou avec les vents violents: précisez le(s)quel(s) /Eclairs";
"7.1. Connaissez vous l'heure approximative à laquelle le tremblement de terre est arrivé?";
"7.1.a. Indiquez l'heure à laquelle le tremblement de terre est arrivé";
"7.2. Des personnes se sont elles réveillées pendant le tremblement de terre?";
"7.3. Si oui ou non pour d'autres raisons, précisez";
"Maintenant, quelques questions par rapport à la perception et aux expériences pendant le tremblement de terre. Comme beaucoup de personnes auront probablement vécu ce tremblement de terre, les réponses aux questions ci-dessous pourrait différer d'une personne à l'autre. Par conséquent, cochez plusieurs réponses si nécessaires.";
"7.4. Toutes les personnes ont-elles ressenti le tremblement de terre?";
"7.5. Comment est-ce que la plupart des personnes ont décrit le tremblement de terre?";
"7.6. Est-ce que certaines personnes ont entendu un bruit?";
"7.7. Comment est-ce que la plupart des personnes qui ont entendu un bruit l'ont décrit? ";
"7.8. Combien de temps approximativement la secousse a-t-elle duré?";
"7.9. Comment la plupart des personnes ont-elles réagi au tremblement de terre?";
"7.10. Pour la plupart des personnes, était-ce difficile de marcher pendant le séisme?";
"7.11. Des objects dans la maison ont-ils bougé?";
"7.12. Pouvez vous préciser le type d'objets qui ont bougé?";
"7.12. Pouvez vous préciser le type d'objets qui ont bougé?/oui, les objets tels que les tables et les chaises ont un peu bougé";
"7.12. Pouvez vous préciser le type d'objets qui ont bougé?/oui, les posters et les photos sont tombées des murs";
"7.12. Pouvez vous préciser le type d'objets qui ont bougé?/oui, des objets non fixés dans la maison se sont renversés";
"7.12. Pouvez vous préciser le type d'objets qui ont bougé?/impossible à dire";
"7.1. Connaissez vous l'heure approximative à laquelle l'événement est survenu?";
"7.1.a. Indiquez l'heure à laquelle l'événement est survenu";
"7.2. Vous indiquez qu'il s'agit d'une réactivation, quand a eu lieu le PREMIER glissement de terrain?";
"7.3. Vous indiquez qu'il n'y a pas de consensus entre les habitants sur la date à laquelle le PREMIER glissement de terrain s'est produit, quelles sont les différentes dates de la première occurrence mentionnées par les habitants?";
"7.4.a. Vous indiquez qu'il s'agit d'une réactivation, la PREMIÈRE fois que ce glissement de terrain s'est déclenché, était-ce provoqué par...";
"7.4.b. Si autre facteur déclencheur, précisez lequel";
"7.5.a. Y avait-il des signes indiquant que la réactivitation pourrait se produire?";
"7.5.b. S'il y avait des signes, indiquez lesquels";
"7.5.b. S'il y avait des signes, indiquez lesquels/fissures";
"7.5.b. S'il y avait des signes, indiquez lesquels/accumulation d'eau/stagnation de l'eau";
"7.5.b. S'il y avait des signes, indiquez lesquels/un débit plus élevé de la source d'eau";
"7.5.b. S'il y avait des signes, indiquez lesquels/autre";
"7.5.c. Si autre, précisez ces signes";
"7.6. Le récent glissement de terrain/réactivation s'est produit(e) pendant ou juste après....";
"7.6. Le récent glissement de terrain/réactivation s'est produit(e) pendant ou juste après..../des précipitations courtes (de quelques heures à une journée au maximum) mais très intenses";
"7.6. Le récent glissement de terrain/réactivation s'est produit(e) pendant ou juste après..../une pluie prolongée (pluie continue pendant plus d'une journée)";
"7.6. Le récent glissement de terrain/réactivation s'est produit(e) pendant ou juste après..../un tremblement de terre";
"7.6. Le récent glissement de terrain/réactivation s'est produit(e) pendant ou juste après..../aucun événément spécifique";
"7.6. Le récent glissement de terrain/réactivation s'est produit(e) pendant ou juste après..../aucune idée";
"7.7.a. Les habitants pensent que le glissement de terrain/réactivation a été causé(e) par...";
"7.7.a. Les habitants pensent que le glissement de terrain/réactivation a été causé(e) par.../la pluie";
"7.7.a. Les habitants pensent que le glissement de terrain/réactivation a été causé(e) par.../un tremblement de terre";
"7.7.a. Les habitants pensent que le glissement de terrain/réactivation a été causé(e) par.../des esprits/magie/sorcellerie";
"7.7.a. Les habitants pensent que le glissement de terrain/réactivation a été causé(e) par.../des influences humaines telles que la déforestation ou la construction";
"7.7.a. Les habitants pensent que le glissement de terrain/réactivation a été causé(e) par.../une autre cause";
"7.7.b. Si autre cause, précisez la/les cause(s) mentionnée(s) par les habitants";
"7.8.a. Y a-t-il des interventions qui auraient pu déstabiliser la pente?";
"7.8.b. S'il y a eu une autre intervention, précisez quelle(s) intervention(s) auraient pu déstabiliser la pente";
"7.8.c. Quand la forêt a-t-elle été coupée?";
"7.9.a. Quelle est la longueur maximale (en mètres) du glissement de terrain/réactivation?";
"7.9.b. Quelle est la largeur maximale (en mètres) du glissement de terrain/réactivation?";
"7.9.c. Quelle est la profondeur estimée (en mètres) du glissement de terrain/réactivation à l'escarpement?";
"7.10. Quel type de matériaux est déplacé?";
"7.10.a. Si plusieurs matériaux, précisez";
"8. Par rapport à l'événement, qu'est-ce qui est le plus correct?";
"9.a. Combien de décès et/ou de personnes disparues ont été causés par l'événement?";
"9.b. Les victimes dormaient elles au moment de l'événement?";
"10. Combien de personnes ont dû se rendre au centre de santé, du fait de blessures dues à l'événement?";
"11. Combien de personnes ne dorment plus dans leur maison en raison de l'événement?";
"11. Combien de ménages ne dorment plus dans leur maison en raison de l'événement?";
"12.1. L'événement a t-il causé la mort de bétail?";
"12.2. Vous indiquez que l'événement a tué du bétail: pouvez vous préciser quel type de bétail?";
"12.2. Vous indiquez que l'événement a tué du bétail: pouvez vous préciser quel type de bétail?/vaches";
"12.2. Vous indiquez que l'événement a tué du bétail: pouvez vous préciser quel type de bétail?/moutons";
"12.2. Vous indiquez que l'événement a tué du bétail: pouvez vous préciser quel type de bétail?/chèvres";
"12.2. Vous indiquez que l'événement a tué du bétail: pouvez vous préciser quel type de bétail?/volailles";
"12.2. Vous indiquez que l'événement a tué du bétail: pouvez vous préciser quel type de bétail?/cochons";
"12.2. Vous indiquez que l'événement a tué du bétail: pouvez vous préciser quel type de bétail?/autre";
"12.3.a. Vous indiquez que des vaches ont été tuées: précisez combien";
"12.3.b. Vous indiquez que des moutons ont été tués: précisez combien";
"12.3.c. Vous indiquez que des chèvres ont été tuées: précisez combien";
"12.3.d. Vous indiquez que des volailles ont été tuées: précisez combien";
"12.3.e. Vous indiquez que des cochons ont été tués: précisez combien";
"12.3.f. Vous indiquez que d'autres bétails ont été tués: pécisez quel type";
"12.3.g Vous indiquez que d'autres types de bétail ont été tués: précisez combien";
"13.1. Des maisons ont-elles été affectées par l'événement?";
"13.2. Quelle(s) partie(s) des maisons affectées a/ont été particulièrement touchée(s)?";
"13.2. Quelle(s) partie(s) des maisons affectées a/ont été particulièrement touchée(s)?/les murs";
"13.2. Quelle(s) partie(s) des maisons affectées a/ont été particulièrement touchée(s)?/le toit";
"13.2. Quelle(s) partie(s) des maisons affectées a/ont été particulièrement touchée(s)?/autre";
"13.3. Si autre, précisez";
"13.4. Vous indiquez que des maisons ont été affectées: quel(s) type(s) de maisons?";
"13.4. Vous indiquez que des maisons ont été affectées: quel(s) type(s) de maisons?/maisons en matériaux non durables (boue, terre glaise, planches, etc)";
"13.4. Vous indiquez que des maisons ont été affectées: quel(s) type(s) de maisons?/maisons en matériaux durables (brique, ciment, etc)";
"13.5. Vous indiquez que des maisons en matériaux non durables ont été affectés: comment pouvez-vous décrire les dégâts?";
"13.5. Vous indiquez que des maisons en matériaux non durables ont été affectés: comment pouvez-vous décrire les dégâts?/quelques maisons affectées, mais sans dégâts sévères aux murs";
"13.5. Vous indiquez que des maisons en matériaux non durables ont été affectés: comment pouvez-vous décrire les dégâts?/quelques murs de maisons partiellement endommagés ou effondrés";
"13.5. Vous indiquez que des maisons en matériaux non durables ont été affectés: comment pouvez-vous décrire les dégâts?/quelques maisons détruites et nécessitant d'être complètement reconstruites";
"13.5.a. Si possible, prenez ou enregistrez une photo de maisons en matériaux non durables affectée";
"13.5.b. Combien de maisons en matériaux non durables ont été affectées sans dégât sévère?";
"13.5.c. Combien de maisons en matériaux non durables ont des murs endommagés ou effondrés, mais ne sont pas complètement détruites?";
"13.5.d. Combien de maisons en matériaux non durables doivent être reconstruites avant que quelqu'un puisse l'occuper à nouveau?";
"13.6. Vous indiquez que des maisons en matériaux durables ont été affectés: comment pouvez-vous décrire les dégâts?";
"13.6. Vous indiquez que des maisons en matériaux durables ont été affectés: comment pouvez-vous décrire les dégâts?/quelques maisons affectées, mais sans dégâts sévères aux murs";
"13.6. Vous indiquez que des maisons en matériaux durables ont été affectés: comment pouvez-vous décrire les dégâts?/quelques murs de maisons partiellement endommagés ou effondrés";
"13.6. Vous indiquez que des maisons en matériaux durables ont été affectés: comment pouvez-vous décrire les dégâts?/quelques maisons détruites et nécessitant d'être complètement reconstruites";
"13.6.a. Si possible, prenez ou enregistrez une photo de maisons en matériaux durable affectées";
"13.6.b. Combien de maisons en matériaux durables ont été affectées sans dégât sévère?";
"13.6.c. Combien de maisons en matériaux durables ont des murs endommagés ou effondrés, mais ne sont pas complètement détruites?";
"13.6.d. Combien de maisons en matériaux durables doivent être reconstuites avant que quelqu'un puisse l'occuper à nouveau?";
"13.7.a. Vous indiquez que les toits de certaines maisons ont été affectés: précisez quel type de toit ";
"13.7.a. Vous indiquez que les toits de certaines maisons ont été affectés: précisez quel type de toit /toit en paille/chaume";
"13.7.a. Vous indiquez que les toits de certaines maisons ont été affectés: précisez quel type de toit /toit en tôle";
"13.7.a. Vous indiquez que les toits de certaines maisons ont été affectés: précisez quel type de toit /autre";
"13.7.b. Si autre, précisez";
"13.7.c. Si possible, prenez ou enregistrez une photo d'une maison au toit affecté  ";
"13.8.a. Vous indiquez que les toits en paille ont été affectés: précisez de quelle manière";
"13.8.b. Combien de toits en paille sont partiellement détruits et ont besoin de réparation?";
"13.8.c. Combien de toits en paille sont complètement détruits et ont besoin d'être remplacés? ";
"13.9.a. Vous indiquez que les toits en tôle ont été affectés: précisez de quelle manière";
"13.9.b. Combien de toits en tôle sont partiellement détruits et ont besoin de réparation?";
"13.9.c. Combien de toits en tôle sont complètement détruits et ont besoin d'être remplacés? ";
"14.1.a. Des routes ont-elles été affectées par l'événement?";
"14.1.b. Vous indiquez que des routes ont été affectées par l'événement: quel type de route?";
"14.1.b. Vous indiquez que des routes ont été affectées par l'événement: quel type de route?/route en terre";
"14.1.b. Vous indiquez que des routes ont été affectées par l'événement: quel type de route?/route asphaltée";
"14.2.a. Vous indiquez que des routes en terre ont été affectées: de quelle manière ont-elles été affectées?";
"14.2.b. Si autre dommage, indiquez quel(s) type(s) de dommage(s)";
"14.2.c. Vous mentionnez que les routes en terre sont légèrement endommagées/fissurées : précisez combien de mètres de routes de terre sont endommagées/fissurées";
"14.2.d. Vous indiquez que les routes en terre sont complètement détruites : précisez combien de mètres de routes en terre sont complètement détruits";
"14.2.e. Vous indiquez que les routes en terre sont recouvertes de terre ou de débris : précisez combien de mètres de routes en terre sont recouverts";
"14.3.a. Vous indiquez que des routes asphaltées ont été affectées: de quelle manière ont-elles été affectées?";
"14.3.b Si autre dommage, indiquez quel(s) type(s) de dommage(s)";
"14.3.c. Vous mentionnez que les routes asphaltées sont légèrement endommagées/fissurées : précisez combien de mètres de routes asphaltées sont endommagées/fissurées";
"14.3.d. Vous indiquez que les routes asphaltées sont complètement détruites : précisez combien de mètres de routes asphaltées sont complètement détruits";
"14.3.e. Vous indiquez que les routes asphaltées sont recouvertes de terre ou de débris : précisez combien de mètres de routes asphaltées sont recouverts";
"14.4.a. L'endommagement de la/des route(s) a-t-il empêché des ménages d'être connectés au village, au marché ou à l'école?";
"14.4.b. Vous indiquez que les ménages n'ont plus été connectés au village, au marché ou à l'école: précisez combien de temps";
"15.1. Des ponts ont-ils été affectés par l'événement?";
"15.2. Vous indiquez que un/des pont(s) a/ont été affecté(s) par l'événement: quel type de pont?";
"15.2. Vous indiquez que un/des pont(s) a/ont été affecté(s) par l'événement: quel type de pont?/pont(s) pour les piétons";
"15.2. Vous indiquez que un/des pont(s) a/ont été affecté(s) par l'événement: quel type de pont?/pont(s) pour les véhicules";
"15.3. Combien de ponts pour piétons ont été affectés?";
"15.4. Combien de ponts pour véhicules ont été affectés?";
"15.5. Si possible, prenez ou enregistrez une photo du pont affecté";
"15.6.a. L'endommagement du-des pont(s) a-t-il empêché des ménages d'être connectés au village, au marché ou à l'école?";
"15.6.b. Vous indiquez que les ménages n'ont plus été connectés au village, au marché ou à l'école: précisez combien de temps";
"16. Y'a-t-il eu d'autres infrastructures affectées?";
"16. Y'a-t-il eu d'autres infrastructures affectées?/antennes de télécommunication";
"16. Y'a-t-il eu d'autres infrastructures affectées?/poteaux électriques";
"16. Y'a-t-il eu d'autres infrastructures affectées?/conduites d'eau";
"16. Y'a-t-il eu d'autres infrastructures affectées?/citernes d'eau";
"16. Y'a-t-il eu d'autres infrastructures affectées?/bâtiments publiques";
"16. Y'a-t-il eu d'autres infrastructures affectées?/autres infrastructures";
"16. Y'a-t-il eu d'autres infrastructures affectées?/non, rien d'autre affecté";
"16.a. Si autre(s) infrastructure(s), précisez laquelle/lesquelles";
"16.b. Si possible, prenez ou enregistrez une photo de l'antenne de télécommunication affectée";
"16.c. Si possible, prenez ou enregistrez une photo des poteaux électriques affectés";
"16.d. Si possible, prenez ou enregistrez une photo des conduites d'eau affectées";
"16.e. Si possible, prenez ou enregistrez une photo des citernes d'eau";
"16.f. Si possible, prenez ou enregistrez une photo des bâtiments publiques affectés";
"16.g. Si possible, prenez ou enregistrez une photo de ces autres infrastructures affectées";
"17.a. Est-ce qu'il y a l'électricité dans la région affectée?";
"17.b. L'événement a-t-il entraîné des coupures d'électricité dans la région affectée?";
"18.a. L'événement a-t-il causé la destruction/le dérangement de sources pour l'eau de consommation?";
"18.b. L'eau des rivières et ruisseaux est elle devenue brune à la suite de l'événement?";
"19. Y'a t-il eu déclenchement d'un glissement de terrain à la suite du tremblement de terre?";
"Vous indiquez que ce tremblement de terre a déclenché des glissements de terrain: essayez d'atteindre tous ces glissements de terrain et de les inventorier en utilisant le formulaire des glissements de terrain";
"20.1. Les cultures ont elles été affectées par l'événement?";
"20.2. Quelles sont les cultures touchées par l'événement?";
"20.2. Quelles sont les cultures touchées par l'événement?/cultures vivrières (par ex: manioc, haricots, etc)";
"20.2. Quelles sont les cultures touchées par l'événement?/cultures de rente (par ex: cacao, café, thé)";
"20.2. Quelles sont les cultures touchées par l'événement?/forêt/eucalyptus";
"20.3. Vous mentionnez que les cultures vivrières ont été affectées: comment pouvez-vous décrire les dégâts?";
"20.4.a Combien de mètres carré de cultures vivrières ont été complètement détruits?";
"20.4.b Combien de mètres carré de cultures vivrières ont été partiellement endommagés mais peuvent encore être consommées?";
"20.5. Vous mentionnez que les cultures de rente ont été affectées: comment pouvez-vous décrire les dégâts?";
"20.6.a Combien de mètres carré de cultures de rente ont été complètement détruits?";
"20.6.b Combien de mètres carré de cultures de rente ont été partiellement endommagés mais peuvent encore produire?";
"20.7. Vous mentionnez que la forêt a été affectée: comment pouvez-vous décrire les dégâts?";
"20.8.a Combien de mètres carré de forêt ont été complètement détruits?";
"20.8.b Combien de mètres carré de forêt ont été partiellement endommagés mais peuvent encore produire?";
"21. Selon vous, des recherches complémentaires sont-elles nécessaires pour comprendre l'extension complète de la catastrophe?";
"_version_";
"_version__001";
"__version__";
"_id";
"_uuid";
"_submission_time";
"_validation_status";
"_notes";
"_status";
"_submitted_by";
"_tags";
"_index"